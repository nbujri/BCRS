<!-- Title: service-repair.component
Author: Megan Walker
Date: 09-26-2023
Description: Service Repair Component
Source: Professor Krasso, Angular.io -->

<div class="container mt-5">
  <h1>Service Repair</h1>
  <form [formGroup]="invoiceForm" (ngSubmit)="createInvoice()">
    <!-- List of Fixed Rated Services with Checkboxes -->
    <div class="form-group">
      <h2>Fixed Rated Services:</h2>
      <div class="form-check" *ngFor="let service of services">
        <input class="form-check-input" type="checkbox" [id]="service.name" [(ngModel)]="service.selected"
          name="service">
        <label class="form-check-label" [for]="service.name">
          {{ service.name }} ({{ service.price | currency:'USD':'symbol':'1.2-2' }})
        </label>
      </div>
    </div>

    <!-- Checkbox for "Other Services" -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="otherServices" [(ngModel)]="otherServicesSelected"
        name="otherServices">
      <label class="form-check-label" for="otherServices">
        Other Services
      </label>
    </div>

    <!-- Fields for Parts and Labor (Initially Hidden) -->
    <div id="otherServicesFields" *ngIf="otherServicesSelected" class="mt-3">
      <div class="form-group">
        <label for="parts">Parts (numbers only):</label>
        <input type="number" class="form-control" id="parts" name="parts" [(ngModel)]="parts" min="0">
      </div>
      <div class="form-group">
        <label for="laborHours">Labor (number of hours):</label>
        <input type="number" class="form-control" id="laborHours" name="laborHours" [(ngModel)]="labor" min="0">
      </div>
    </div>

    <!-- Email and Full Name Inputs -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" class="form-control" id="email" name="email" formControlName="email">
    </div>
    <div class="form-group">
      <label for="fullName">Full Name:</label>
      <input type="text" class="form-control" id="fullName" name="fullName" formControlName="fullName">
    </div>

    <!-- Total Cost Display -->
    <div class="form-group">
      <p>Total Cost: {{ totalCost | currency:'USD':'symbol':'1.2-2' }}</p>
    </div>

    <!-- Error Message Display -->
    <div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary mt-3">Submit</button>
  </form>
</div>